// Code generated by goa v3.1.1, DO NOT EDIT.
//
// guideme gRPC client CLI support package
//
// Command:
// $ goa gen guide.me/design

package cli

import (
	"flag"
	"fmt"
	"os"

	goa "goa.design/goa/v3/pkg"
	grpc "google.golang.org/grpc"
	organizationc "guide.me/gen/grpc/organization/client"
)

// UsageCommands returns the set of commands and sub-commands using the format
//
//    command (subcommand1|subcommand2|...)
//
func UsageCommands() string {
	return `organization (list|show|add|remove|multi-add|multi-update)
`
}

// UsageExamples produces an example of a valid invocation of the CLI tool.
func UsageExamples() string {
	return os.Args[0] + ` organization list` + "\n" +
		""
}

// ParseEndpoint returns the endpoint and payload as specified on the command
// line.
func ParseEndpoint(cc *grpc.ClientConn, opts ...grpc.CallOption) (goa.Endpoint, interface{}, error) {
	var (
		organizationFlags = flag.NewFlagSet("organization", flag.ContinueOnError)

		organizationListFlags = flag.NewFlagSet("list", flag.ExitOnError)

		organizationShowFlags       = flag.NewFlagSet("show", flag.ExitOnError)
		organizationShowMessageFlag = organizationShowFlags.String("message", "", "")
		organizationShowViewFlag    = organizationShowFlags.String("view", "", "")

		organizationAddFlags       = flag.NewFlagSet("add", flag.ExitOnError)
		organizationAddMessageFlag = organizationAddFlags.String("message", "", "")

		organizationRemoveFlags       = flag.NewFlagSet("remove", flag.ExitOnError)
		organizationRemoveMessageFlag = organizationRemoveFlags.String("message", "", "")

		organizationMultiAddFlags       = flag.NewFlagSet("multi-add", flag.ExitOnError)
		organizationMultiAddMessageFlag = organizationMultiAddFlags.String("message", "", "")

		organizationMultiUpdateFlags       = flag.NewFlagSet("multi-update", flag.ExitOnError)
		organizationMultiUpdateMessageFlag = organizationMultiUpdateFlags.String("message", "", "")
	)
	organizationFlags.Usage = organizationUsage
	organizationListFlags.Usage = organizationListUsage
	organizationShowFlags.Usage = organizationShowUsage
	organizationAddFlags.Usage = organizationAddUsage
	organizationRemoveFlags.Usage = organizationRemoveUsage
	organizationMultiAddFlags.Usage = organizationMultiAddUsage
	organizationMultiUpdateFlags.Usage = organizationMultiUpdateUsage

	if err := flag.CommandLine.Parse(os.Args[1:]); err != nil {
		return nil, nil, err
	}

	if flag.NArg() < 2 { // two non flag args are required: SERVICE and ENDPOINT (aka COMMAND)
		return nil, nil, fmt.Errorf("not enough arguments")
	}

	var (
		svcn string
		svcf *flag.FlagSet
	)
	{
		svcn = flag.Arg(0)
		switch svcn {
		case "organization":
			svcf = organizationFlags
		default:
			return nil, nil, fmt.Errorf("unknown service %q", svcn)
		}
	}
	if err := svcf.Parse(flag.Args()[1:]); err != nil {
		return nil, nil, err
	}

	var (
		epn string
		epf *flag.FlagSet
	)
	{
		epn = svcf.Arg(0)
		switch svcn {
		case "organization":
			switch epn {
			case "list":
				epf = organizationListFlags

			case "show":
				epf = organizationShowFlags

			case "add":
				epf = organizationAddFlags

			case "remove":
				epf = organizationRemoveFlags

			case "multi-add":
				epf = organizationMultiAddFlags

			case "multi-update":
				epf = organizationMultiUpdateFlags

			}

		}
	}
	if epf == nil {
		return nil, nil, fmt.Errorf("unknown %q endpoint %q", svcn, epn)
	}

	// Parse endpoint flags if any
	if svcf.NArg() > 1 {
		if err := epf.Parse(svcf.Args()[1:]); err != nil {
			return nil, nil, err
		}
	}

	var (
		data     interface{}
		endpoint goa.Endpoint
		err      error
	)
	{
		switch svcn {
		case "organization":
			c := organizationc.NewClient(cc, opts...)
			switch epn {
			case "list":
				endpoint = c.List()
				data = nil
			case "show":
				endpoint = c.Show()
				data, err = organizationc.BuildShowPayload(*organizationShowMessageFlag, *organizationShowViewFlag)
			case "add":
				endpoint = c.Add()
				data, err = organizationc.BuildAddPayload(*organizationAddMessageFlag)
			case "remove":
				endpoint = c.Remove()
				data, err = organizationc.BuildRemovePayload(*organizationRemoveMessageFlag)
			case "multi-add":
				endpoint = c.MultiAdd()
				data, err = organizationc.BuildMultiAddPayload(*organizationMultiAddMessageFlag)
			case "multi-update":
				endpoint = c.MultiUpdate()
				data, err = organizationc.BuildMultiUpdatePayload(*organizationMultiUpdateMessageFlag)
			}
		}
	}
	if err != nil {
		return nil, nil, err
	}

	return endpoint, data, nil
}

// organizationUsage displays the usage of the organization command and its
// subcommands.
func organizationUsage() {
	fmt.Fprintf(os.Stderr, `The Organization service makes it possible to view, add or remove Organizations.
Usage:
    %s [globalflags] organization COMMAND [flags]

COMMAND:
    list: List all stored Organizations
    show: Show Organization by ID
    add: Add new bottle and return its ID.
    remove: Remove Organization from storage
    multi-add: Add n number of Organizations and return their IDs. This is a multipart request and each part has field name 'organization' and contains the encoded organization info to be added.
    multi-update: Update Organizations with the given IDs. This is a multipart request and each part has field name 'organizations' and contains the encoded Organizations info to be updated. The IDs in the query parameter is mapped to each part in the request.

Additional help:
    %s organization COMMAND --help
`, os.Args[0], os.Args[0])
}
func organizationListUsage() {
	fmt.Fprintf(os.Stderr, `%s [flags] organization list

List all stored Organizations

Example:
    `+os.Args[0]+` organization list
`, os.Args[0])
}

func organizationShowUsage() {
	fmt.Fprintf(os.Stderr, `%s [flags] organization show -message JSON -view STRING

Show Organization by ID
    -message JSON: 
    -view STRING: 

Example:
    `+os.Args[0]+` organization show --message '{
      "id": "Velit est culpa."
   }' --view "default"
`, os.Args[0])
}

func organizationAddUsage() {
	fmt.Fprintf(os.Stderr, `%s [flags] organization add -message JSON

Add new bottle and return its ID.
    -message JSON: 

Example:
    `+os.Args[0]+` organization add --message '{
      "name": "Blue\'s Cuvee",
      "url": "http://www.google.com/"
   }'
`, os.Args[0])
}

func organizationRemoveUsage() {
	fmt.Fprintf(os.Stderr, `%s [flags] organization remove -message JSON

Remove Organization from storage
    -message JSON: 

Example:
    `+os.Args[0]+` organization remove --message '{
      "id": "Rem delectus."
   }'
`, os.Args[0])
}

func organizationMultiAddUsage() {
	fmt.Fprintf(os.Stderr, `%s [flags] organization multi-add -message JSON

Add n number of Organizations and return their IDs. This is a multipart request and each part has field name 'organization' and contains the encoded organization info to be added.
    -message JSON: 

Example:
    `+os.Args[0]+` organization multi-add --message '{
      "field": [
         {
            "name": "Blue\'s Cuvee",
            "url": "http://www.google.com/"
         },
         {
            "name": "Blue\'s Cuvee",
            "url": "http://www.google.com/"
         },
         {
            "name": "Blue\'s Cuvee",
            "url": "http://www.google.com/"
         },
         {
            "name": "Blue\'s Cuvee",
            "url": "http://www.google.com/"
         }
      ]
   }'
`, os.Args[0])
}

func organizationMultiUpdateUsage() {
	fmt.Fprintf(os.Stderr, `%s [flags] organization multi-update -message JSON

Update Organizations with the given IDs. This is a multipart request and each part has field name 'organizations' and contains the encoded Organizations info to be updated. The IDs in the query parameter is mapped to each part in the request.
    -message JSON: 

Example:
    `+os.Args[0]+` organization multi-update --message '{
      "ids": [
         "Recusandae corporis fugit non.",
         "Asperiores maxime."
      ],
      "organizations": [
         {
            "name": "Blue\'s Cuvee",
            "url": "http://www.google.com/"
         },
         {
            "name": "Blue\'s Cuvee",
            "url": "http://www.google.com/"
         },
         {
            "name": "Blue\'s Cuvee",
            "url": "http://www.google.com/"
         },
         {
            "name": "Blue\'s Cuvee",
            "url": "http://www.google.com/"
         }
      ]
   }'
`, os.Args[0])
}
